# Neovim キーマップ カンペ

## 基本操作

| キー | 動作 |
|------|------|
| `Space w` | 保存 |
| `Space q` | 終了 |
| `Space Q` | 全終了（強制） |
| `Esc` | 検索ハイライト解除 |

## ウィンドウ操作

| キー | 動作 |
|------|------|
| `Ctrl+h/j/k/l` | ウィンドウ移動（左/下/上/右） |
| `Space w h/l` | ウィンドウ幅 -2/+2 |
| `Space w j/k` | ウィンドウ高さ -2/+2 |
| `Space W h/l` | ウィンドウ幅 -10/+10 |
| `Space W j/k` | ウィンドウ高さ -10/+10 |
| `Space w =` | ウィンドウサイズ均等化 |
| `Ctrl+↑/↓/←/→` | edgy パネルリサイズ |

## バッファ操作

| キー | 動作 |
|------|------|
| `Shift+h` | 前のバッファ |
| `Shift+l` | 次のバッファ |
| `Space b n` | 次のバッファ |
| `Space b p` | 前のバッファ |
| `Space b d` | バッファ削除 |
| `Space b p` | バッファをピン |

## ファイル検索 (Telescope)

| キー | 動作 |
|------|------|
| `Space f f` | ファイル検索 |
| `Space f g` | 文字列検索 (grep) |
| `Space f b` | バッファ一覧 |
| `Space f r` | 最近開いたファイル |
| `Space f h` | ヘルプ検索 |
| `Space f t` | TODO検索 |
| `Space /` | 現在のバッファ内検索 |

## ファイルエクスプローラー (Neo-tree)

| キー | 動作 |
|------|------|
| `Space e` | Neo-tree トグル |
| `Space f e` | 現在のファイルを表示 |

### Neo-tree 内操作

| キー | 動作 |
|------|------|
| `Enter` / `o` | 開く / 展開 |
| `s` | 垂直分割で開く |
| `S` | 水平分割で開く |
| `a` | 新規作成 |
| `d` | 削除 |
| `r` | リネーム |
| `y` | コピー |
| `x` | カット |
| `p` | ペースト |
| `R` | リフレッシュ |
| `?` | ヘルプ |

## ターミナル

### 基本操作

| キー | 動作 |
|------|------|
| `Ctrl+\` | ターミナル トグル (toggleterm) |
| `Space t s` | エディタ下にターミナル分割 |
| `Space t f` | フロートターミナル |
| `Space t h` | 下部ターミナル（水平） |
| `Space t v` | 右側ターミナル（垂直） |
| `Esc Esc` | ターミナルモード終了 |

### 複数ターミナル管理

| キー | 動作 |
|------|------|
| `Space t 1` | ターミナル #1 を開く/フォーカス（トグルしない） |
| `Space t 2` | ターミナル #2 を開く/フォーカス |
| `Space t 3` | ターミナル #3 を開く/フォーカス |
| `Space t 4` | ターミナル #4 を開く/フォーカス |
| `Space t S` | ターミナル選択 |
| `Space t N` | ターミナルに名前を付ける |
| `Space t a` | 全ターミナル表示/非表示 |
| `Space t c` | 全ターミナルを隠す（終了せず） |

### ターミナルを閉じる

| 方法 | 説明 |
|------|------|
| `exit` | シェルを終了（ターミナル削除） |
| `Esc Esc` → `:q` | バッファを閉じる |
| `Space t c` | 非表示にする（プロセスは継続） |

### ターミナルからのウィンドウ移動

| キー | 動作 |
|------|------|
| `Ctrl+h` | 左ウィンドウへ |
| `Ctrl+j` | 下ウィンドウへ |
| `Ctrl+k` | 上ウィンドウへ |
| `Ctrl+l` | 右ウィンドウへ |

## Git

### Lazygit

| キー | 動作 |
|------|------|
| `Space g g` | Lazygit を開く |

### Diffview

| キー | 動作 |
|------|------|
| `Space g d` | Diff view を開く |
| `Space g h` | 現在ファイルの履歴 |
| `Space g H` | ブランチ履歴 |
| `Space g q` | Diff view を閉じる |

### Gitsigns (hunk 操作)

| キー | 動作 |
|------|------|
| `]h` | 次の hunk へ |
| `[h` | 前の hunk へ |
| `Space g s` | hunk をステージ |
| `Space g r` | hunk をリセット |
| `Space g S` | バッファ全体をステージ |
| `Space g u` | ステージ取り消し |
| `Space g R` | バッファ全体をリセット |
| `Space g p` | hunk をプレビュー |
| `Space g b` | 行の blame 表示 |
| `Space g B` | 行 blame 常時表示トグル |

## 診断 (Trouble)

| キー | 動作 |
|------|------|
| `Space x x` | 診断一覧 |
| `Space x X` | 現バッファの診断 |
| `Space c d` | 行の診断表示 |
| `[d` | 前の診断へ |
| `]d` | 次の診断へ |

## LSP (コード操作)

| キー | 動作 |
|------|------|
| `gd` | 定義へジャンプ |
| `gr` | 参照一覧 |
| `gI` | 実装へジャンプ |
| `gy` | 型定義へジャンプ |
| `gD` | 宣言へジャンプ |
| `K` | ホバー（ドキュメント表示） |
| `Space c r` | リネーム |
| `Space c a` | コードアクション |
| `Space c f` | フォーマット |
| `Space c i` | インレイヒント トグル |

## 高速移動 (flash.nvim)

| キー | 動作 |
|------|------|
| `s` | Flash ジャンプ |
| `S` | Flash Treesitter |

## コメント (Comment.nvim)

| キー | 動作 |
|------|------|
| `gc` | コメントトグル (行) |
| `gb` | ブロックコメントトグル |

## サラウンド (nvim-surround)

| キー | 動作 |
|------|------|
| `ys{motion}{char}` | サラウンド追加 |
| `ds{char}` | サラウンド削除 |
| `cs{old}{new}` | サラウンド変更 |

例: `ysiw"` → 単語を `"` で囲む

## 編集

| キー | 動作 |
|------|------|
| `J` (Visual) | 行を下に移動 |
| `K` (Visual) | 行を上に移動 |
| `<` (Visual) | インデント減（維持） |
| `>` (Visual) | インデント増（維持） |

## Treesitter

| キー | 動作 |
|------|------|
| `Ctrl+Space` | 選択開始 |
| `Ctrl+Space` (Visual) | 選択拡大 |
| `Backspace` (Visual) | 選択縮小 |

## which-key

| キー | 動作 |
|------|------|
| `Space` を押して待つ | キーマップヘルプ表示 |

## Leader キーグループ一覧

| プレフィックス | グループ |
|---------------|---------|
| `Space f` | Find (検索) |
| `Space b` | Buffer |
| `Space c` | Code (LSP) |
| `Space x` | Diagnostics |
| `Space t` | Terminal |
| `Space g` | Git |
| `Space w` | Window (小) |
| `Space W` | Window (大) |

## VS Code風 IDE レイアウト

```
+------------+------------------------+
|            |                        |
|  Neo-tree  |       Editor           |
|  (Space e) |                        |
|            +------------------------+
|            |  Terminal (Space t h)  |
+------------+------------------------+
```

### クイックセットアップ

1. `Space e` → Neo-tree を開く（左パネル固定）
2. `Space t h` → 下部にターミナル
3. `Ctrl+h/l` でパネル間移動
4. `Space g g` → Lazygit でコミット

### マルチターミナルワークフロー

```
+------------+------------------------+
|            |       Editor           |
|  Neo-tree  +------------------------+
|            | Term #1 | Term #2      |
+------------+------------------------+
```

1. `Space t 1` → ターミナル #1 を開く
2. `Space t 2` → ターミナル #2 を開く
3. `Space t S` → ターミナル一覧から選択
4. `Space t a` → 全ターミナル表示/非表示

### Git ワークフロー

1. `Space g g` → Lazygit を開く（フル画面）
2. `Space g d` → Diffview で差分確認
3. `Space g h` → ファイル履歴を確認
4. `]h` / `[h` → hunk 間を移動
5. `Space g s` → hunk をステージ
