# blink.cmp カンペ

blink.cmp の補完キーマップを最短で確認するためのメモ。

## このリポジトリの前提

- blink.cmp は Nix で導入済み: `modules/programs/neovim.nix`
- LazyVim extra (coding.blink) は有効化済み: `config/nvim/lua/config/lazy.lua`

## LazyVim extra (coding.blink) の既定 (有効化時)

LazyVim の extra は以下の前提で動く。

- `keymap.preset = "enter"` ＋ `<C-y>` で `select_and_accept` を追加
- `cmdline.keymap.preset = "cmdline"`（`<Left>/<Right>` は無効化）
- `cmdline` は `:` のときだけ自動表示

## 共通ショートカット（全プリセット）

| キー | 動作 |
|------|------|
| `<C-space>` | 補完メニュー表示 / ドキュメント表示切替 |
| `<C-n>` / `<C-p>` | 次/前に移動 |
| `<Up>` / `<Down>` | 次/前に移動 |
| `<C-e>` | メニューを閉じる |
| `<C-k>` | シグネチャヘルプの表示切替 |
| `<C-b>` / `<C-f>` | ドキュメントをスクロール |

## プリセット別キーマップ

### `default`（推奨）

| キー | 動作 |
|------|------|
| `<C-y>` | いま選択中を確定（未選択なら 1 件目を確定） |
| `<C-space>` | メニュー表示 / ドキュメント表示切替 |
| `<C-e>` | 閉じる |
| `<C-n>` / `<C-p>` | 次/前に移動 |
| `<Up>` / `<Down>` | 次/前に移動 |
| `<C-b>` / `<C-f>` | ドキュメントスクロール |
| `<Tab>` / `<S-Tab>` | スニペット前/後 |
| `<C-k>` | シグネチャヘルプ切替 |

### `super-tab`（VSCode 風）

| キー | 動作 |
|------|------|
| `<Tab>` | スニペットがあれば展開、なければ選択して確定 |
| `<S-Tab>` | スニペット戻り |
| `<C-space>` | メニュー表示 / ドキュメント表示切替 |
| `<C-e>` | 閉じる |
| `<C-n>` / `<C-p>` | 次/前に移動 |
| `<Up>` / `<Down>` | 次/前に移動 |
| `<C-b>` / `<C-f>` | ドキュメントスクロール |
| `<C-k>` | シグネチャヘルプ切替 |

### `enter`（Enter で確定）

| キー | 動作 |
|------|------|
| `<CR>` | いま選択中を確定 |
| `<C-space>` | メニュー表示 / ドキュメント表示切替 |
| `<C-e>` | 閉じる |
| `<C-n>` / `<C-p>` | 次/前に移動 |
| `<Up>` / `<Down>` | 次/前に移動 |
| `<C-b>` / `<C-f>` | ドキュメントスクロール |
| `<Tab>` / `<S-Tab>` | スニペット前/後 |
| `<C-k>` | シグネチャヘルプ切替 |

## cmdline（`:`/`/`/`?`）

デフォルトは `cmdline.keymap.preset = "cmdline"` で、メニュー自動表示はオフ。

| キー | 動作 |
|------|------|
| `<Tab>` | メニュー表示 → 最初の候補を挿入 → 次の候補へ |
| `<S-Tab>` | 前の候補へ |
| `<C-n>` / `<C-p>` | 次/前に移動 |
| `<C-y>` | 確定 |
| `<C-e>` | キャンセル |
| `<C-space>` | メニュー表示 |

## 補完ソース（既定）

`lsp / path / snippets / buffer`

## ヘルプ

- `:h blink-cmp`
- `:h blink-cmp-config-keymap`
