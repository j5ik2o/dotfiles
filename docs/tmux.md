# tmux カンペ

設定ファイル: `modules/programs/tmux.nix`

## 現在の設定

- **テーマ**: Powerline (Catppuccin Mocha カラー)
- **マウス**: 有効（境界線ドラッグでリサイズ可）
- **プレフィックス**: `Ctrl+b`
- **ベースインデックス**: 1（ウィンドウ番号が1から始まる）
- **viモード**: 有効
- **ウィンドウ名自動更新**: 無効（bash表示回避のため）

## 起動

```bash
tmux                      # 新規セッション
tmux new -s main          # 名前付きセッション
tmux attach               # 既存セッションにアタッチ
tmux attach -t main       # 指定セッションにアタッチ
tmux list-sessions        # セッション一覧
tmux kill-session -t main # セッション削除
```

## カスタムキーバインド（プレフィックスなし）

Zellijと同じ操作感で使えるようにしています。

### ペイン操作

| キー | 動作 |
|------|------|
| `Alt+n` | 右にペイン追加 |
| `Alt+d` | 下にペイン追加 |
| `Alt+w` | ペインを閉じる |
| `Alt+f` | ペインのズーム切替 |

### ペイン移動

| キー | 動作 |
|------|------|
| `Alt+h` | 左のペインへ |
| `Alt+j` | 下のペインへ |
| `Alt+k` | 上のペインへ |
| `Alt+l` | 右のペインへ |

### ペインリサイズ

| キー | 動作 |
|------|------|
| `Alt+Shift+H` | 左方向に拡大 |
| `Alt+Shift+J` | 下方向に拡大 |
| `Alt+Shift+K` | 上方向に拡大 |
| `Alt+Shift+L` | 右方向に拡大 |
| **マウスドラッグ** | 境界線をドラッグでリサイズ |

### ウィンドウ（タブ相当）

| キー | 動作 |
|------|------|
| `Alt+1-5` | ウィンドウ1-5へ切り替え |

## プレフィックス付きキーバインド (`Ctrl+b` の後)

### ペイン

| キー | 動作 |
|------|------|
| `|` | 右にペイン分割 |
| `-` | 下にペイン分割 |
| `h/j/k/l` | ペイン移動 |
| `x` | ペインを閉じる（確認あり） |
| `z` | ペインのズーム切替 |
| `q` | ペイン番号表示 |

### ウィンドウ

| キー | 動作 |
|------|------|
| `c` | 新しいウィンドウ |
| `n` | 次のウィンドウ |
| `p` | 前のウィンドウ |
| `&` | ウィンドウを閉じる（確認あり） |
| `,` | ウィンドウ名を変更 |
| `w` | ウィンドウ一覧 |

### セッション

| キー | 動作 |
|------|------|
| `d` | デタッチ |
| `$` | セッション名を変更 |
| `s` | セッション一覧 |
| `(` | 前のセッション |
| `)` | 次のセッション |

### その他

| キー | 動作 |
|------|------|
| `r` | 設定リロード |
| `?` | キーバインド一覧 |
| `[` | コピーモード |
| `]` | ペースト |

## マウス操作

| 操作 | 動作 |
|------|------|
| クリック | ペインにフォーカス |
| 境界線ドラッグ | ペインリサイズ |
| スクロール | 履歴スクロール |
| ダブルクリック | 単語選択 |
| トリプルクリック | 行選択 |

## tmux vs Zellij 比較

| 機能 | tmux | Zellij |
|------|------|--------|
| マウスリサイズ | ドラッグ可 | 不可 |
| 学習コスト | やや高 | 低い |
| プラグイン | 豊富 | 組み込み |
| 設定 | 独自構文 | KDL |
| サーバー常駐 | あり | あり |

## Tips

- **マウス重視**: tmuxがおすすめ（ドラッグリサイズ可）
- **キーボード重視**: どちらでもOK（同じキーバインド設定済み）
- **見た目重視**: Zellij（モダンなUI）
- **サーバー作業**: tmux（どこでも入ってる）
